<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HR Document Layout Editor</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cairo:wght@300;400;600;700&family=Markazi+Text:wght@400;500;600;700&family=Noto+Sans+Arabic:wght@100;300;400;500;600;700;800;900&family=Scheherazade+New:wght@400;700&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>ğŸ‘¥ HR Document Layout Editor</h1>
    <div id="selectionCounter" style="text-align: center; margin-bottom: 10px; font-size: 14px; color: #666; display: none;">
      <span id="selectedCount">0</span> element(s) selected
    </div>
    
    <div class="control-buttons">
      <button class="btn btn-primary" onclick="addTextElement()">
        <span>ğŸ“</span> Add Text
      </button>
      <button class="btn btn-primary" onclick="addImageElement()">
        <span>ğŸ–¼ï¸</span> Add Image
      </button>
      <button class="btn btn-info" onclick="toggleGrid()">
        <span>ğŸ“</span> Toggle Grid
      </button>
      <button class="btn btn-info" onclick="toggleRuler()">
        <span>ğŸ“</span> Toggle Ruler
      </button>
      <button class="btn btn-primary" onclick="addHorizontalLine()">
        <span>â”</span> Add HR Line
      </button>
      <button class="btn btn-primary" onclick="addVerticalLine()">
        <span>â”ƒ</span> Add V Line
      </button>
      <button class="btn btn-primary" onclick="addTable()">
        <span>ğŸ—ï¸</span> Add Table
      </button>
      <button class="btn btn-success" onclick="createGroup()">
        <span>ğŸ“¦</span> Group Selected
      </button>
      <button class="btn btn-warning" onclick="ungroupSelected()">
        <span>ğŸ“‚</span> Ungroup
      </button>
      <button class="btn btn-info" onclick="toggleGroupVisibility()">
        <span>ğŸ‘ï¸</span> Toggle Groups
      </button>
      <button class="btn btn-info" onclick="togglePageBorder()">
        <span>ğŸ”²</span> Page Border
      </button>
      
      <!-- Page Size Selection -->
      <select id="pageSize" onchange="changePageSize(this.value)" class="btn" style="background: #6f42c1; color: white; border: none; border-radius: 8px; padding: 8px;">
        <option value="">Page Size</option>
        <optgroup label="ğŸ“„ Standard Pages">
          <option value="a4">A4 (210Ã—297mm)</option>
          <option value="a3">A3 (297Ã—420mm)</option>
          <option value="a5">A5 (148Ã—210mm)</option>
          <option value="letter">Letter (8.5Ã—11in)</option>
          <option value="legal">Legal (8.5Ã—14in)</option>
          <option value="tabloid">Tabloid (11Ã—17in)</option>
        </optgroup>
        <optgroup label="ğŸ´ Card Sizes">
          <option value="business-card">Business Card (3.5Ã—2in)</option>
          <option value="id-card">ID Card (3.375Ã—2.125in)</option>
          <option value="badge">Badge (4Ã—3in)</option>
          <option value="postcard">Postcard (6Ã—4in)</option>
          <option value="greeting-card">Greeting Card (5Ã—7in)</option>
          <option value="certificate">Certificate (11Ã—8.5in)</option>
        </optgroup>
        <optgroup label="ğŸ“± Digital Sizes">
          <option value="mobile">Mobile (375Ã—812px)</option>
          <option value="tablet">Tablet (768Ã—1024px)</option>
          <option value="desktop">Desktop (1920Ã—1080px)</option>
        </optgroup>
      </select>
      
      <!-- Orientation Toggle -->
      <button class="btn btn-info" onclick="toggleOrientation()" id="orientationBtn">
        <span>ğŸ”„</span> <span id="orientationText">Portrait</span>
      </button>
      
      <!-- Text Formatting -->
      <select id="headingFormat" onchange="applyHeading(this.value)" class="btn" style="background: #ffc107; color: #212529; border: none; border-radius: 8px; padding: 8px;">
        <option value="">Format</option>
        <option value="h1">H1 - Large Heading</option>
        <option value="h2">H2 - Heading</option>
        <option value="h3">H3 - Sub Heading</option>
        <option value="h4">H4 - Small Heading</option>
        <option value="h5">H5 - Tiny Heading</option>
        <option value="p">P - Normal Text</option>
        <option value="pre">PRE - Code/Preformatted</option>
      </select>
      
      <select id="fontFamily" onchange="applyFontFamily(this.value)" class="btn" style="background: #17a2b8; color: white; border: none; border-radius: 8px; padding: 8px;">
        <option value="">Font Family</option>
        <option value="Arial, sans-serif">Arial</option>
        <option value="'Times New Roman', serif">Times New Roman</option>
        <option value="'Courier New', monospace">Courier New</option>
        <option value="Georgia, serif">Georgia</option>
        <option value="Verdana, sans-serif">Verdana</option>
        <option value="'Comic Sans MS', cursive">Comic Sans</option>
        <option value="Impact, fantasy">Impact</option>
        <option value="'Trebuchet MS', sans-serif">Trebuchet</option>
        <option value="'Amiri', serif">Amiri (Arabic)</option>
        <option value="'Noto Sans Arabic', sans-serif">Noto Sans Arabic</option>
        <option value="'Cairo', sans-serif">Cairo (Arabic)</option>
        <option value="'Scheherazade New', serif">Scheherazade New (Arabic)</option>
        <option value="'Markazi Text', serif">Markazi Text (Arabic)</option>
      </select>
      
      <input type="color" id="textColor" onchange="applyTextColor(this.value)" title="Text Color" style="width: 40px; height: 32px; border: none; border-radius: 8px; cursor: pointer;">
      <input type="color" id="bgColor" onchange="applyBackgroundColor(this.value)" title="Background Color" value="#ffffff" style="width: 40px; height: 32px; border: none; border-radius: 8px; cursor: pointer;">
      
      <button class="btn btn-warning" onclick="formatSelected('bold')">
        <span><strong>B</strong></span>
      </button>
      <button class="btn btn-warning" onclick="formatSelected('italic')">
        <span><em>I</em></span>
      </button>
      <button class="btn btn-warning" onclick="formatSelected('underline')">
        <span><u>U</u></span>
      </button>
      <button class="btn btn-warning" onclick="increaseFontSize()">
        <span>ğŸ”+</span>
      </button>
      <button class="btn btn-warning" onclick="decreaseFontSize()">
        <span>ğŸ”-</span>
      </button>
      <button class="btn btn-info" onclick="alignText('left')">
        <span>â¬…ï¸</span> Left
      </button>
      <button class="btn btn-info" onclick="alignText('center')">
        <span>â†”ï¸</span> Center
      </button>
      <button class="btn btn-info" onclick="alignText('right')">
        <span>â¡ï¸</span> Right
      </button>
      <button class="btn btn-warning" onclick="clearCanvas()">
        <span>ğŸ—‘ï¸</span> Clear
      </button>
      <button class="btn btn-success" onclick="saveTemplate()">
        <span>ğŸ’¾</span> Generate HR Document
      </button>
    </div>

    <div class="editor-layout">
      <div class="canvas a4" id="canvas">
        <div class="grid-overlay" id="gridOverlay"></div>
        <div class="ruler-overlay" id="rulerOverlay">
          <div class="ruler-horizontal" id="rulerHorizontal"></div>
          <div class="ruler-vertical" id="rulerVertical"></div>
        </div>
      </div>

      <div class="placeholders-panel">
        <h3>ğŸ·ï¸ Drag to Canvas</h3>
        
        <div class="add-text-form">
          <input type="text" id="custom-text" placeholder="Type text to add...">
          <button onclick="addCustomText()">Add</button>
        </div>

        <div class="placeholder-category">
          <h4>ğŸ‘¤ Employee Information</h4>
          <div class="placeholder-grid">
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{employee_name}">
              <span>ğŸ‘¤</span> Employee Name
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{employee_id}">
              <span>ğŸ†”</span> Employee ID
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{position}">
              <span>ğŸ’¼</span> Position
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{department}">
              <span>ğŸ¢</span> Department
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{start_date}">
              <span>ğŸ“…</span> Start Date
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{email}">
              <span>ğŸ“§</span> Email
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{phone}">
              <span>ğŸ“</span> Phone
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{address}">
              <span>ğŸ </span> Address
            </div>
          </div>
        </div>

        <div class="placeholder-category">
          <h4>ğŸ’° Salary & Benefits</h4>
          <div class="placeholder-grid">
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{salary}">
              <span>ğŸ’°</span> Salary
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{hourly_rate}">
              <span>â°</span> Hourly Rate
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{bonus}">
              <span>ğŸ</span> Bonus
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{benefits}">
              <span>ğŸ¥</span> Benefits
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{vacation_days}">
              <span>ğŸŒ´</span> Vacation Days
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{sick_days}">
              <span>ğŸ¥</span> Sick Days
            </div>
          </div>
        </div>

        <div class="placeholder-category">
          <h4>ğŸ¢ Company Information</h4>
          <div class="placeholder-grid">
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{company_name}">
              <span>ğŸ¢</span> Company Name
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{company_address}">
              <span>ğŸ“</span> Company Address
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{hr_contact}">
              <span>ğŸ‘¥</span> HR Contact
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{manager_name}">
              <span>ğŸ‘¨â€ğŸ’¼</span> Manager Name
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{company_phone}">
              <span>ğŸ“</span> Company Phone
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{company_email}">
              <span>ğŸ“§</span> Company Email
            </div>
          </div>
        </div>

        <div class="placeholder-category">
          <h4>ğŸ“‹ Performance & Dates</h4>
          <div class="placeholder-grid">
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{review_date}">
              <span>ğŸ“…</span> Review Date
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{next_review}">
              <span>â­ï¸</span> Next Review
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{performance_rating}">
              <span>â­</span> Performance Rating
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{goals}">
              <span>ğŸ¯</span> Goals
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{training_completed}">
              <span>ğŸ“</span> Training Completed
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{certifications}">
              <span>ğŸ“œ</span> Certifications
            </div>
          </div>
        </div>

        <div class="placeholder-category">
          <h4>ğŸ–¼ï¸ Employee Images</h4>
          <div class="placeholder-grid">
            <div class="placeholder-btn" draggable="true" data-type="image-placeholder" data-content="{{employee_image}}">
              <span>ğŸ‘¤</span> {{employee_image}}
            </div>
            <div class="placeholder-btn" draggable="true" data-type="image-placeholder" data-content="{{company_logo}}">
              <span>ğŸ¢</span> {{company_logo}}
            </div>
            <div class="placeholder-btn" draggable="true" data-type="image-placeholder" data-content="{{signature_image}}">
              <span>âœï¸</span> {{signature_image}}
            </div>
            <div class="placeholder-btn" draggable="true" data-type="image" data-content="upload">
              <span>ğŸ“</span> Upload Image
            </div>
            <div class="placeholder-btn" draggable="true" data-type="image" data-content="url">
              <span>ğŸŒ</span> Image from URL
            </div>
          </div>
        </div>

        <div class="placeholder-category">
          <h4>ğŸ“ Quick Text</h4>
          <div class="placeholder-grid">
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="EMPLOYEE RECORD">
              <span>ğŸ“„</span> "EMPLOYEE RECORD" Title
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="PERFORMANCE REVIEW">
              <span>ğŸ“‹</span> "PERFORMANCE REVIEW" Title
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="JOB OFFER LETTER">
              <span>ğŸ’¼</span> "JOB OFFER LETTER" Title
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="EMPLOYEE HANDBOOK">
              <span>ğŸ“š</span> "EMPLOYEE HANDBOOK" Title
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="Employee Details:">
              <span>ğŸ‘¤</span> "Employee Details:" Label
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="Department:">
              <span>ğŸ¢</span> "Department:" Label
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="Salary:">
              <span>ğŸ’°</span> "Salary:" Label
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="HR Manager:">
              <span>ğŸ‘¥</span> "HR Manager:" Label
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="Date:">
              <span>ğŸ“…</span> "Date:" Label
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="Signature:">
              <span>âœï¸</span> "Signature:" Label
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="output-section">
      <h3>ğŸ“¤ Generated HR Document HTML</h3>
      <textarea id="html-output" placeholder="Your HR document HTML will appear here..." readonly></textarea>
    </div>
  </div>

  <!-- Hidden file input for image upload -->
  <input type="file" id="imageUpload" accept="image/*" style="display: none;">
  
  <!-- Employee photo upload specifically -->
  <input type="file" id="employeePhotoUpload" accept="image/jpeg,image/png,image/jpg" style="display: none;">

  <!-- Image Upload Modal -->
  <div id="imageUploadModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>ğŸ–¼ï¸ Add Image</h3>
        <span class="close" onclick="closeImageModal()">&times;</span>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label>Image Source:</label>
          <div class="source-options">
            <label class="radio-option">
              <input type="radio" name="imageSource" value="upload" checked>
              <span>ğŸ“ Upload from Computer</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="imageSource" value="url">
              <span>ğŸŒ Image URL</span>
            </label>
          </div>
        </div>
        
        <div class="form-group" id="urlInputGroup" style="display: none;">
          <label for="imageUrl">Image URL:</label>
          <input type="url" id="imageUrl" placeholder="https://example.com/image.jpg">
        </div>
        
        <div class="form-group">
          <label>Image Dimensions:</label>
          <div class="dimensions-group">
            <div class="dimension-input">
              <label for="imageWidth">Width:</label>
              <input type="number" id="imageWidth" value="200" min="50" max="500">
              <span>px</span>
            </div>
            <div class="dimension-input">
              <label for="imageHeight">Height:</label>
              <input type="number" id="imageHeight" value="150" min="50" max="500">
              <span>px</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <div class="preset-sizes">
            <button type="button" class="preset-btn" onclick="setImageSize(120, 150)">ğŸ‘¤ Profile (120Ã—150)</button>
            <button type="button" class="preset-btn" onclick="setImageSize(200, 100)">ğŸ“„ Banner (200Ã—100)</button>
            <button type="button" class="preset-btn" onclick="setImageSize(150, 150)">â¬œ Square (150Ã—150)</button>
            <button type="button" class="preset-btn" onclick="setImageSize(300, 200)">ğŸ–¼ï¸ Large (300Ã—200)</button>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" onclick="closeImageModal()">Cancel</button>
        <button type="button" class="btn btn-primary" onclick="confirmImageUpload()">Add Image</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>