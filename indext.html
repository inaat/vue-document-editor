<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HR Document Layout Editor</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cairo:wght@300;400;600;700&family=Markazi+Text:wght@400;500;600;700&family=Noto+Sans+Arabic:wght@100;300;400;500;600;700;800;900&family=Scheherazade+New:wght@400;700&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>👥 HR Document Layout Editor</h1>
    <div id="selectionCounter" style="text-align: center; margin-bottom: 10px; font-size: 14px; color: #666; display: none;">
      <span id="selectedCount">0</span> element(s) selected
    </div>
    
    <div class="control-buttons">
      <button class="btn btn-primary" onclick="addTextElement()">
        <span>📝</span> Add Text
      </button>
      <button class="btn btn-primary" onclick="addImageElement()">
        <span>🖼️</span> Add Image
      </button>
      <button class="btn btn-info" onclick="toggleGrid()">
        <span>📐</span> Toggle Grid
      </button>
      <button class="btn btn-info" onclick="toggleRuler()">
        <span>📏</span> Toggle Ruler
      </button>
      <button class="btn btn-primary" onclick="addHorizontalLine()">
        <span>━</span> Add HR Line
      </button>
      <button class="btn btn-primary" onclick="addVerticalLine()">
        <span>┃</span> Add V Line
      </button>
      <button class="btn btn-primary" onclick="addTable()">
        <span>🏗️</span> Add Table
      </button>
      <button class="btn btn-success" onclick="createGroup()">
        <span>📦</span> Group Selected
      </button>
      <button class="btn btn-warning" onclick="ungroupSelected()">
        <span>📂</span> Ungroup
      </button>
      <button class="btn btn-info" onclick="toggleGroupVisibility()">
        <span>👁️</span> Toggle Groups
      </button>
      <button class="btn btn-info" onclick="togglePageBorder()">
        <span>🔲</span> Page Border
      </button>
      
      <!-- Page Size Selection -->
      <select id="pageSize" onchange="changePageSize(this.value)" class="btn" style="background: #6f42c1; color: white; border: none; border-radius: 8px; padding: 8px;">
        <option value="">Page Size</option>
        <optgroup label="📄 Standard Pages">
          <option value="a4">A4 (210×297mm)</option>
          <option value="a3">A3 (297×420mm)</option>
          <option value="a5">A5 (148×210mm)</option>
          <option value="letter">Letter (8.5×11in)</option>
          <option value="legal">Legal (8.5×14in)</option>
          <option value="tabloid">Tabloid (11×17in)</option>
        </optgroup>
        <optgroup label="🎴 Card Sizes">
          <option value="business-card">Business Card (3.5×2in)</option>
          <option value="id-card">ID Card (3.375×2.125in)</option>
          <option value="badge">Badge (4×3in)</option>
          <option value="postcard">Postcard (6×4in)</option>
          <option value="greeting-card">Greeting Card (5×7in)</option>
          <option value="certificate">Certificate (11×8.5in)</option>
        </optgroup>
        <optgroup label="📱 Digital Sizes">
          <option value="mobile">Mobile (375×812px)</option>
          <option value="tablet">Tablet (768×1024px)</option>
          <option value="desktop">Desktop (1920×1080px)</option>
        </optgroup>
      </select>
      
      <!-- Orientation Toggle -->
      <button class="btn btn-info" onclick="toggleOrientation()" id="orientationBtn">
        <span>🔄</span> <span id="orientationText">Portrait</span>
      </button>
      
      <!-- Text Formatting -->
      <select id="headingFormat" onchange="applyHeading(this.value)" class="btn" style="background: #ffc107; color: #212529; border: none; border-radius: 8px; padding: 8px;">
        <option value="">Format</option>
        <option value="h1">H1 - Large Heading</option>
        <option value="h2">H2 - Heading</option>
        <option value="h3">H3 - Sub Heading</option>
        <option value="h4">H4 - Small Heading</option>
        <option value="h5">H5 - Tiny Heading</option>
        <option value="p">P - Normal Text</option>
        <option value="pre">PRE - Code/Preformatted</option>
      </select>
      
      <select id="fontFamily" onchange="applyFontFamily(this.value)" class="btn" style="background: #17a2b8; color: white; border: none; border-radius: 8px; padding: 8px;">
        <option value="">Font Family</option>
        <option value="Arial, sans-serif">Arial</option>
        <option value="'Times New Roman', serif">Times New Roman</option>
        <option value="'Courier New', monospace">Courier New</option>
        <option value="Georgia, serif">Georgia</option>
        <option value="Verdana, sans-serif">Verdana</option>
        <option value="'Comic Sans MS', cursive">Comic Sans</option>
        <option value="Impact, fantasy">Impact</option>
        <option value="'Trebuchet MS', sans-serif">Trebuchet</option>
        <option value="'Amiri', serif">Amiri (Arabic)</option>
        <option value="'Noto Sans Arabic', sans-serif">Noto Sans Arabic</option>
        <option value="'Cairo', sans-serif">Cairo (Arabic)</option>
        <option value="'Scheherazade New', serif">Scheherazade New (Arabic)</option>
        <option value="'Markazi Text', serif">Markazi Text (Arabic)</option>
      </select>
      
      <input type="color" id="textColor" onchange="applyTextColor(this.value)" title="Text Color" style="width: 40px; height: 32px; border: none; border-radius: 8px; cursor: pointer;">
      <input type="color" id="bgColor" onchange="applyBackgroundColor(this.value)" title="Background Color" value="#ffffff" style="width: 40px; height: 32px; border: none; border-radius: 8px; cursor: pointer;">
      
      <button class="btn btn-warning" onclick="formatSelected('bold')">
        <span><strong>B</strong></span>
      </button>
      <button class="btn btn-warning" onclick="formatSelected('italic')">
        <span><em>I</em></span>
      </button>
      <button class="btn btn-warning" onclick="formatSelected('underline')">
        <span><u>U</u></span>
      </button>
      <button class="btn btn-warning" onclick="increaseFontSize()">
        <span>🔍+</span>
      </button>
      <button class="btn btn-warning" onclick="decreaseFontSize()">
        <span>🔍-</span>
      </button>
      <button class="btn btn-info" onclick="alignText('left')">
        <span>⬅️</span> Left
      </button>
      <button class="btn btn-info" onclick="alignText('center')">
        <span>↔️</span> Center
      </button>
      <button class="btn btn-info" onclick="alignText('right')">
        <span>➡️</span> Right
      </button>
      <button class="btn btn-warning" onclick="clearCanvas()">
        <span>🗑️</span> Clear
      </button>
      <button class="btn btn-success" onclick="saveTemplate()">
        <span>💾</span> Generate HR Document
      </button>
    </div>

    <div class="editor-layout">
      <div class="canvas a4" id="canvas">
        <div class="grid-overlay" id="gridOverlay"></div>
        <div class="ruler-overlay" id="rulerOverlay">
          <div class="ruler-horizontal" id="rulerHorizontal"></div>
          <div class="ruler-vertical" id="rulerVertical"></div>
        </div>
      </div>

      <div class="placeholders-panel">
        <h3>🏷️ Drag to Canvas</h3>
        
        <div class="add-text-form">
          <input type="text" id="custom-text" placeholder="Type text to add...">
          <button onclick="addCustomText()">Add</button>
        </div>

        <div class="placeholder-category">
          <h4>👤 Employee Information</h4>
          <div class="placeholder-grid">
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{employee_name}">
              <span>👤</span> Employee Name
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{employee_id}">
              <span>🆔</span> Employee ID
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{position}">
              <span>💼</span> Position
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{department}">
              <span>🏢</span> Department
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{start_date}">
              <span>📅</span> Start Date
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{email}">
              <span>📧</span> Email
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{phone}">
              <span>📞</span> Phone
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{address}">
              <span>🏠</span> Address
            </div>
          </div>
        </div>

        <div class="placeholder-category">
          <h4>💰 Salary & Benefits</h4>
          <div class="placeholder-grid">
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{salary}">
              <span>💰</span> Salary
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{hourly_rate}">
              <span>⏰</span> Hourly Rate
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{bonus}">
              <span>🎁</span> Bonus
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{benefits}">
              <span>🏥</span> Benefits
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{vacation_days}">
              <span>🌴</span> Vacation Days
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{sick_days}">
              <span>🏥</span> Sick Days
            </div>
          </div>
        </div>

        <div class="placeholder-category">
          <h4>🏢 Company Information</h4>
          <div class="placeholder-grid">
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{company_name}">
              <span>🏢</span> Company Name
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{company_address}">
              <span>📍</span> Company Address
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{hr_contact}">
              <span>👥</span> HR Contact
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{manager_name}">
              <span>👨‍💼</span> Manager Name
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{company_phone}">
              <span>📞</span> Company Phone
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{company_email}">
              <span>📧</span> Company Email
            </div>
          </div>
        </div>

        <div class="placeholder-category">
          <h4>📋 Performance & Dates</h4>
          <div class="placeholder-grid">
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{review_date}">
              <span>📅</span> Review Date
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{next_review}">
              <span>⏭️</span> Next Review
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{performance_rating}">
              <span>⭐</span> Performance Rating
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{goals}">
              <span>🎯</span> Goals
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{training_completed}">
              <span>🎓</span> Training Completed
            </div>
            <div class="placeholder-btn" draggable="true" data-type="placeholder" data-content="{certifications}">
              <span>📜</span> Certifications
            </div>
          </div>
        </div>

        <div class="placeholder-category">
          <h4>🖼️ Employee Images</h4>
          <div class="placeholder-grid">
            <div class="placeholder-btn" draggable="true" data-type="image-placeholder" data-content="{{employee_image}}">
              <span>👤</span> {{employee_image}}
            </div>
            <div class="placeholder-btn" draggable="true" data-type="image-placeholder" data-content="{{company_logo}}">
              <span>🏢</span> {{company_logo}}
            </div>
            <div class="placeholder-btn" draggable="true" data-type="image-placeholder" data-content="{{signature_image}}">
              <span>✍️</span> {{signature_image}}
            </div>
            <div class="placeholder-btn" draggable="true" data-type="image" data-content="upload">
              <span>📁</span> Upload Image
            </div>
            <div class="placeholder-btn" draggable="true" data-type="image" data-content="url">
              <span>🌐</span> Image from URL
            </div>
          </div>
        </div>

        <div class="placeholder-category">
          <h4>📝 Quick Text</h4>
          <div class="placeholder-grid">
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="EMPLOYEE RECORD">
              <span>📄</span> "EMPLOYEE RECORD" Title
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="PERFORMANCE REVIEW">
              <span>📋</span> "PERFORMANCE REVIEW" Title
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="JOB OFFER LETTER">
              <span>💼</span> "JOB OFFER LETTER" Title
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="EMPLOYEE HANDBOOK">
              <span>📚</span> "EMPLOYEE HANDBOOK" Title
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="Employee Details:">
              <span>👤</span> "Employee Details:" Label
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="Department:">
              <span>🏢</span> "Department:" Label
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="Salary:">
              <span>💰</span> "Salary:" Label
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="HR Manager:">
              <span>👥</span> "HR Manager:" Label
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="Date:">
              <span>📅</span> "Date:" Label
            </div>
            <div class="placeholder-btn" draggable="true" data-type="text" data-content="Signature:">
              <span>✍️</span> "Signature:" Label
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="output-section">
      <h3>📤 Generated HR Document HTML</h3>
      <textarea id="html-output" placeholder="Your HR document HTML will appear here..." readonly></textarea>
    </div>
  </div>

  <!-- Hidden file input for image upload -->
  <input type="file" id="imageUpload" accept="image/*" style="display: none;">
  
  <!-- Employee photo upload specifically -->
  <input type="file" id="employeePhotoUpload" accept="image/jpeg,image/png,image/jpg" style="display: none;">

  <!-- Image Upload Modal -->
  <div id="imageUploadModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>🖼️ Add Image</h3>
        <span class="close" onclick="closeImageModal()">&times;</span>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label>Image Source:</label>
          <div class="source-options">
            <label class="radio-option">
              <input type="radio" name="imageSource" value="upload" checked>
              <span>📁 Upload from Computer</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="imageSource" value="url">
              <span>🌐 Image URL</span>
            </label>
          </div>
        </div>
        
        <div class="form-group" id="urlInputGroup" style="display: none;">
          <label for="imageUrl">Image URL:</label>
          <input type="url" id="imageUrl" placeholder="https://example.com/image.jpg">
        </div>
        
        <div class="form-group">
          <label>Image Dimensions:</label>
          <div class="dimensions-group">
            <div class="dimension-input">
              <label for="imageWidth">Width:</label>
              <input type="number" id="imageWidth" value="200" min="50" max="500">
              <span>px</span>
            </div>
            <div class="dimension-input">
              <label for="imageHeight">Height:</label>
              <input type="number" id="imageHeight" value="150" min="50" max="500">
              <span>px</span>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <div class="preset-sizes">
            <button type="button" class="preset-btn" onclick="setImageSize(120, 150)">👤 Profile (120×150)</button>
            <button type="button" class="preset-btn" onclick="setImageSize(200, 100)">📄 Banner (200×100)</button>
            <button type="button" class="preset-btn" onclick="setImageSize(150, 150)">⬜ Square (150×150)</button>
            <button type="button" class="preset-btn" onclick="setImageSize(300, 200)">🖼️ Large (300×200)</button>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" onclick="closeImageModal()">Cancel</button>
        <button type="button" class="btn btn-primary" onclick="confirmImageUpload()">Add Image</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>